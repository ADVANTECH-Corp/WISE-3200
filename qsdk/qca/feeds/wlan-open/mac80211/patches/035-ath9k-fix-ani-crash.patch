--- a/drivers/net/wireless/ath/ath9k/debug.c
+++ b/drivers/net/wireless/ath/ath9k/debug.c
@@ -266,7 +266,8 @@ static ssize_t write_file_ani(struct file *file,
 		clear_bit(ATH_OP_ANI_RUN, &common->op_flags);
 		ath_stop_ani(sc);
 	} else {
-		ath_check_ani(sc);
+		if (!test_bit(ATH_OP_INVALID, &common->op_flags))
+			ath_check_ani(sc);
 	}
 
 	return count;
